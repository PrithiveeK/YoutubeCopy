(this["webpackJsonpyoutube-copy"]=this["webpackJsonpyoutube-copy"]||[]).push([[0],{10:function(e,t,a){e.exports={object:"watchVideo_object__SCI4x","body-container":"watchVideo_body-container__1_WBS","watcher-container":"watchVideo_watcher-container__3snKe","video-title":"watchVideo_video-title__3qh1o","pub-date":"watchVideo_pub-date__3cRWm","video-content":"watchVideo_video-content__2_ERN","channel-title":"watchVideo_channel-title__3kHAB","video-desc":"watchVideo_video-desc__2s22w"}},11:function(e,t,a){e.exports={load:"home_load__2w-s1",loader:"home_loader__AZhNz",loading:"home_loading__3ZRdv",loadBar:"home_loadBar__EgMvd",loaded:"home_loaded__2Yz_i"}},13:function(e,t,a){e.exports={"top-bar":"searchBar_top-bar__25EOS",youtube:"searchBar_youtube__3vCwE","query-form":"searchBar_query-form__frepD",empty:"searchBar_empty__1FL6s","query-input":"searchBar_query-input__2FHhF"}},15:function(e,t,a){e.exports={"video-item":"videoItem_video-item__1_Uld","img-content":"videoItem_img-content__20sWq","video-desc":"videoItem_video-desc__3wLBf","channel-title":"videoItem_channel-title__Gq9HP"}},27:function(e,t,a){e.exports={"video-list":"videoList_video-list__3M10l"}},28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),i=a.n(o),c=(a(33),a(34),a(6)),s=a(7),l=a(9),d=a(8),u=a(18),p=a(1),h=a(13),m=a.n(h),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleQuery=function(e){n.setState({query:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.searchQuery(n.state.query)},n.state={query:n.props.query},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("div",{className:m.a["top-bar"]},r.a.createElement("h1",{className:m.a.youtube},"Youtube"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:m.a["query-form"]},r.a.createElement("input",{type:"text",value:e,onChange:this.handleQuery,className:m.a["query-input"]}),r.a.createElement("button",{type:"submit",className:m.a["submit-btn"]},"Search")),r.a.createElement("div",{className:m.a.empty}))}}]),a}(n.Component),y=a(14),f=a.n(y),b=a(17),_=a(25),g=a(15),E=a.n(g),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.details.id.videoId,t=this.props.details.snippet.title,a=this.props.details.snippet.channelTitle,n=this.props.details.snippet.description,o=this.props.details.snippet.thumbnails.medium.url;return r.a.createElement(u.b,{to:"/".concat(e)},r.a.createElement("div",{className:E.a["video-item"],onClick:this.loadVideo},r.a.createElement("img",{src:o,alt:"",className:E.a["img-content"]}),r.a.createElement("h3",{className:E.a["video-title"]},t),r.a.createElement("p",{className:E.a["channel-title"]},a),r.a.createElement("p",{className:E.a["video-desc"]},n)))}}]),a}(n.Component),N=a(27),x=a.n(N),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showRetry=function(){n.retryRef.current.style.display="flex"},n.hideRetry=function(){n.retryRef.current.style.display="none"},n.loadNextPage=Object(b.a)(f.a.mark((function e(){var t,a,r,o,i,c,s,l,d,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]&&u[0],n.hideRetry(),a=n.state.pageToken,r=n.props.query,o="https://www.googleapis.com/youtube/v3/search?part=snippet&&type=video&&maxResults=15",i=r?"&&q=".concat(r.replace(/\ /g,"+")):"",c=a?"&&pageToken=".concat(a):"",s="&&key=".concat("AIzaSyAH4EKzZI6NooXKYNkPYGhW7csAPWS-0fk"),e.prev=8,e.next=11,fetch(o+i+c+s,{header:{"Content-Type":"application/json"}});case 11:if((l=e.sent).ok){e.next=14;break}throw Error("error fetching");case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(8),n.props.loader[1](),n.props.loader[2](),n.showRetry(),e.abrupt("return");case 22:return e.next=24,l.json();case 24:d=e.sent,t&&n.props.loader[1](),n.setState({videos:t?d.items:n.state.videos.concat(d.items),pageToken:d.nextPageToken},(function(){t&&n.props.loader[2]()}));case 27:case"end":return e.stop()}}),e,null,[[8,16]])}))),n.state={videos:[],pageToken:""},n.extraLoading={width:"100%",height:"50px",display:"flex"},n.loader={margin:"auto",width:"40px",height:"40px",borderRadius:"100%",border:"5px solid red",position:"relative",animation:"rotate 1s infinite linear"},n.loading={position:"absolute",width:"10px",height:"20px",backgroundColor:"white",transform:"rotateZ(35deg)",top:"-3px",left:"-3px"},n.retryRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadNextPage()}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&(this.props.loader[0](),this.loadNextPage(!0))}},{key:"render",value:function(){return r.a.createElement("div",{className:x.a["video-list"]},r.a.createElement(_.a,{dataLength:this.state.videos.length,next:this.loadNextPage,hasMore:!0,loader:r.a.createElement("div",{style:this.extraLoading},r.a.createElement("div",{style:this.loader},r.a.createElement("div",{style:this.loading})))},this.state.videos.map((function(e){return r.a.createElement(w,{key:e.id.videoId,details:e})}))),r.a.createElement("div",{className:"retry-container",ref:this.retryRef},r.a.createElement("button",{className:"retry-btn",onClick:this.loadNextPage},"Retry")))}}]),a}(n.Component),k=a(10),j=a.n(k),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showRetry=function(){n.retryRef.current.style.display="flex"},n.hideRetry=function(){n.retryRef.current.style.display="none"},n.getVideoDetails=Object(b.a)(f.a.mark((function e(){var t,a,r,o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.loader[0](),n.hideRetry(),"https://www.googleapis.com/youtube/v3/videos?part=snippet",t="&&id=".concat(n.videoId),a="&&key=".concat("AIzaSyAH4EKzZI6NooXKYNkPYGhW7csAPWS-0fk"),e.prev=5,e.next=8,fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet"+t+a,{header:{"Content-Type":"application/json"}});case 8:if((r=e.sent).ok){e.next=11;break}throw Error("error fetching");case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(5),n.props.loader[1](),n.props.loader[2](),n.showRetry(),e.abrupt("return");case 19:return e.next=21,r.json();case 21:o=e.sent,i=o.items[0].snippet,c=Date(i.publishedAt).split(" "),n.props.loader[1](),n.setState({videoDet:{title:i.title,desc:i.description,channelName:i.channelTitle,pubDate:"".concat(c[1]," ").concat(c[2],", ").concat(c[3])}},(function(){n.props.loader[2]()}));case 26:case"end":return e.stop()}}),e,null,[[5,13]])}))),n.state={videoDet:{title:"",desc:"",channelName:"",pubDate:""}},n.retryRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.videoId=this.props.match.params.id,this.getVideoDetails(),this.hideRetry()}},{key:"render",value:function(){var e=this.state.videoDet,t=e.title,a=e.desc,n=e.channelName,o=e.pubDate;return r.a.createElement("div",{className:j.a["body-container"]},r.a.createElement("div",{className:j.a["watcher-container"]},r.a.createElement("object",{data:"https://youtube.com/embed/".concat(this.videoId),className:j.a.object}),r.a.createElement("h2",{className:j.a["video-title"]},t),r.a.createElement("p",{className:j.a["pub-date"]},o),r.a.createElement("div",{className:j.a["video-content"]},r.a.createElement("p",{className:j.a["channel-title"]},n),r.a.createElement("p",{className:j.a["video-desc"]},a))),r.a.createElement("div",{className:"retry-container",ref:this.retryRef},r.a.createElement("button",{className:"retry-btn",onClick:this.getVideoDetails},"Retry")))}}]),a}(n.Component),O=a(11),L=a.n(O),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).startLoading=function(){return n.loadRef.current.classList.add(L.a.loading)},n.doneLoading=function(){return n.loadRef.current.classList.add(L.a.loaded)},n.removeLoader=function(){setTimeout((function(){n.loadRef.current.classList.remove(L.a.loading),n.loadRef.current.classList.remove(L.a.loaded)}),1e3)},n.handelSearchQuery=function(e){n.setState({q:e})},n.state={q:""},n.loadRef=r.a.createRef(),n.retryRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(u.a,null,r.a.createElement("div",{className:L.a.header},r.a.createElement("div",{className:L.a.load},r.a.createElement("div",{className:L.a.loader,ref:this.loadRef})),r.a.createElement(v,{searchQuery:this.handelSearchQuery,query:this.state.q}),r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(R,{query:this.state.q,loader:[this.startLoading,this.doneLoading,this.removeLoader],retryer:[this.hideRetry,this.showRetry]})),r.a.createElement(p.a,{path:"/:id",render:function(t){return r.a.createElement(q,Object.assign({},t,{loader:[e.startLoading,e.doneLoading,e.removeLoader],retryer:[e.hideRetry,e.showRetry]}))}})))}}]),a}(n.Component);var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.96f8671d.chunk.js.map